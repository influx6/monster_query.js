var MonsterQuery=MonsterQuery||{};MonsterQuery.version="0.0.1",MonsterQuery.core=MonsterQuery.core||{},MonsterQuery.core.Element=Stub.create("MonsterQuery.Element",{initialize:function(a,b){this.dom=b,this.current=this._getElement(this.dom,a)},_query_sanitize:function(a,b,c){return a=a.replace(b,c),a},_querinize_string:function(a){return a=this._query_sanitize(a,/^[\s]+/ig,""),a=this._query_sanitize(a,/>+|\++/ig,""),a=this._query_sanitize(a,/\s+/ig," "),a=this._query_sanitize(a,/(\s+)$/ig,""),a},_checker:{"class":/(^\.[a-zA-Z0-9-_]+)/,id:/(^#[a-zA-Z0-9-_]+)/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)/,tag_class:/(^[a-zA-z]+\.[-_A-Za-z0-9]+)/},_search:function(a,b,c,d){var e=a,f=[];return this.map(e,function(a){if(!c&&!d)var e=this._getElement(a,b);else var e=this._getElementWithAttribute(a,b,c,d);e&&e.length>0&&this.onEach(e,function(a){f.push(a)},this)},this),f},_getElementWithAttribute:function(a,b,c,d){return this._getMapSelector(a,b,c,d)},_getElement:function(a,b){var c=b,d=this._checker;if(d.id.test(b))return this._getMapSelector(a,"*","id",b.split("#")[1]);if(d.class.test(b))return this._getMapSelector(a,"*","class",b.split(".")[1]);if(d.tag_id.test(b)){var e=b.split("#");return this._getMapSelector(a,e[0],"id",e[1])}if(d.tag_class.test(b)){var e=b.split(".");return this._getMapSelector(a,e[0],"class",e[1])}return this._getTag(a,b)},_getTag:function(a,b){if(!a||!b)throw Error("Arguments giving is Incorrect");return a.getElementsByTagName(b)},_getMapSelector:function(a,b,c,d){if(!a||!d||!b||!c)throw Error("Arguments giving is Incorrect");var e=[],f,g=a.getElementsByTagName(b);for(f=0;f<g.length;f++)g[f].getAttribute(c)==d&&e.push(g[f]);return e},useResult:function(a){this.onEach(this.current,function(b,c,d){a.call(this,b,c,d)})},has:function(a,b){var c=!1;return this.onEach(a,function(a,d,e){a==b&&(c=!0)},this),c},grab:function(a){return a?this.current[a]:this.current},first:function(){if(this.current)return this.current[0]},last:function(){return this.current&&this.current.length>1?this.current[this.current.length-1]:this.first()},nth:function(){},size:function(){return this.current.length},addClass:function(a){return this.onEach(this.current,function(b){b.className&&!this.has(b.className.split(/\s+/),a)&&(b.className+=" "+a)},this),this},removeClass:function(a){return this.onEach(this.current,function(b){var d=b.className.split(/\s+/);b.className&&this.has(d,a)&&(b.className=this.map(d,function(b){if(b!=a)return b}).join(" "))},this),this},css:function(a){return this.map(this.current,function(b){this.onEach(a,function(a,c){b.style[a]=c[a]})},this),this},get:function(a,b){return this.current=this._search(this.current,a),b&&this.useResult(b),this},getAttr:function(a,b,c,d){return this.current=this._search(m,a,b,c),d&&this.useResult(d),this},getSelector:function(a,b){if(this.isObjectType(a,"string"))var c=this._querinize_string(a).split(" ");else var c=a;while(c.length>0)this.get(c[0]),c=c.splice(1,c.length);return b&&this.useResult(b),this},toString:function(){return this.className}}),MonsterQuery.core.Query=Stub.create("MonsterQuery.Query",{initialize:function(a){this.module=MonsterQuery.core,this.map_cache={},this.dom=a;if(!a)throw Error("No Argument error!")},_checker:{"class":/(^\.[a-zA-Z0-9-_]+)/,id:/(^#[a-zA-Z0-9-_]+)/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)/,tag_class:/(^[a-zA-z]+\.[-_A-Za-z0-9]+)/},_query_sanitize:function(a,b,c){return a=a.replace(b,c),a},_querinize_string:function(a){return a=this._query_sanitize(a,/^[\s]+/ig,""),a=this._query_sanitize(a,/>+|\++/ig,""),a=this._query_sanitize(a,/\s+/ig," "),a=this._query_sanitize(a,/(\s+)$/ig,""),a},get:function(a,b){if(typeof a!="string")throw Error("selector is not a string");a=this._querinize_string(a).split(" ")[0];var c=new this.module.Element(a,this.dom);return b&&c.useResult(b),c},getSelector:function(a,b){if(typeof a!="string")throw Error("selector is not a string");var c=this._querinize_string(a).split(" "),d=c[0],e=c.splice(1,a.length),f=new this.module.Element(d,this.dom);return f.getSelector(e),b&&f.useResult(b),f}}),MonsterQuery.core.Event=Stub.create("MonsterQuery.Event",{});var _MQ=window.MQ,MQ=window.MQ=function(){var a=this,b=a.document,c=!1,d=function(){c||b.addEventListener&&b.addEventListener("DOMContentLoaded",function(){c=!0},!1)},e=function(){if(!c)var b=a.setInterval(function(){"loaded|complete".indexOf(document.readyState)!=-1&&(c=!0),c&&a.clearInterval(b)},0)},f=function(){var d=b.createElement("span"),e=0;if(!c)var f=a.setInterval(function(){b.body&&!c&&b.body.appendChild(d)&&b.body.removeChild(d)&&(c=!0),c&&window.clearInterval(f)},e)};return{version:MonsterQuery.version,Query:new MonsterQuery.core.Query(document),Event:MonsterQuery.core.Event,Element:MonsterQuery.core.Element,onReady:function(a){var b=function(){},g=this;d(),e(),f();var h=window.setTimeout(function(){c&&(window.clearTimeout(h),a.call(g))},30)}}}()