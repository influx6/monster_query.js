var MonsterQuery=MonsterQuery||{};MonsterQuery.core=MonsterQuery.core||{},MonsterQuery.core.Elements=Stub.create("MonsterQuery.Elements",{initialize:function(a){this.node=a,this.map=this.mapNode()},mapNode:function(){this.onEach(this.node.children,function(a,b){console.log(a)},this)}}),MonsterQuery.core.Query=Stub.create("MonsterQuery.Query",{initialize:function(a){this.module=MonsterQuery.core,this.cache={},this.object_cache={},this.dom=a,this.new_properties=this.chkDOMProperties()},_sorter:function(a,b,c){var d=a.match(b),e=this;c.push(d[1]),d[2]!=undefined&&e._sorter(d[2],b,c)},_checker:{tests:{"class":/(^\.[a-zA-Z0-9-_]+)/,id:/(^#[a-zA-Z0-9-_]+)/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)/,tag_class:/([a-zA-z]+\.[-_A-Za-z0-9]+)/},selectors:{tag:/^[^\W][a-zA-Z]+/,id:/(^#[a-zA-Z0-9-_]+)([\w\W]+)?/,"class":/(^\.[a-zA-Z0-9-_]+)([\w\W]+)?/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)[^\S]?([\W\w]+)?/,tag_class:/([a-zA-z]+\.[-_A-Za-z0-9]+)[^\S]?([\W\w]+)?/,pseudo_class:""}},_query_sanitize:function(a,b,c){return a=a.replace(b,c),a},findHandler:{tag:function(a,b){return a.getElementsByTagName(b)},id:function(a,b){return[a.getElementById(b)]},"class":function(a,b){var c=[],d,e=a.getElementsByTagName("*");for(d=0;d<e.length;d++)e[d].className.match(b)&&c.push(e[d]);return c},tag_id:function(a,b,c){var d,e,f=a.getElementsByTagName(b);for(e=0;e<f.length;e++)f[e].getSelector("id")==c&&d.push(f[e]);return d},tag_class:function(a,b,c){var d,e,f=a.getElementsByTagName(b);for(e=0;e<f.length;e++)f[e].getSelector("class")==c&&d.push(f[e]);return d}},mapHandler:function(a){var b=this._checker.test;return b.id.test(a)?this.findHandler.id:b.class.test(a)?this.findHandler["class"]:b.tag_id.test(a)?this.findHandler.tag_id:test.tag_class.test(a)?this.findHandler.tag_class:this.findHandler.tag},chkDOMProperties:function(){var a={querySelector:!1,querySelectorAll:!1,getElementByClassName:!1};return"querySelector"in this.dom&&(a.querySelector=!0),"querySelectorAll"in this.dom&&(a.querySelectorAll=!0),"getElementByClassName"in this.dom&&(a.getElementByClassName=!0),a},mapBreaker:function(a){var b=this,c=[],d=this._checker.tests,e=this._checker.selectors;return d.id.test(a)?this._sorter(a,e.selectors.id,c):d.class.test(a)?this._sorter(a,e.class,c):d.tag_id.test(a)?this._sorter(a,e.tag_id,c):d.tag_class.test(a)&&this._sorter(a,e.tag_class,c),c},mapQuery:function(a){if(typeof a!="string")throw Error("selector is not a string");var b=this._checker;a=this._query_sanitize(a,/(^\s+)?/,""),a=this._query_sanitize(a," > "," "),a=this._query_sanitize(a," + "," ");var c=this.mapHandler(a);return c},get:function(a){var b;this.new_properties.querySelector?b=this.dom.querySelectorAll:b=this.mapQuery(a)},getAll:function(a){var b;this.new_properties.querySelectorAll?b=this.dom.querySelector:b=this.mapQuery(a)}}),MonsterQuery.core.Event=Stub.create("MonsterQuery.Event",{});var MQ={Query:MonsterQuery.core.Query,Event:MonsterQuery.core.Event}