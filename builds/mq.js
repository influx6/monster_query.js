var MonsterQuery=MonsterQuery||{};MonsterQuery.version="0.0.2",MonsterQuery.core=MonsterQuery.core||{},MonsterQuery.core.Element={ObjectClassName:"MonsterQuery.Element",extend:function(a){var b={};return b.elements=a,b.size=b.length=a.length,b.get=function(a,b){var c=this.super._search(this.elements,a);return MonsterQuery.core.Element.extend(c)},b.getAttr=function(a,b,c,d){var e=this.super._search(this.elements,a,b,c);return MonsterQuery.core.Element.extend(e)},b.getSelector=function(a,b){if(this.super.isObjectType(a,"string"))var c=this.super._querinize_string(a).split(" ");else var c=a;var d=this.elements;while(c.length>0)d=this.super._search(d,c[0]),c=c.splice(1,c.length);return MonsterQuery.core.Element.extend(d)},b.useResult=function(a){return a?(this.onEach(this.elements,function(b,c,d){a.call(this,b,c,d)},this),this):this},b.super={_query_sanitize:function(a,b,c){return a=a.replace(b,c),a},_querinize_string:function(a){return a=this._query_sanitize(a,/^[\s]+/ig,""),a=this._query_sanitize(a,/>+|\++/ig,""),a=this._query_sanitize(a,/\s+/ig," "),a=this._query_sanitize(a,/(\s+)$/ig,""),a},_checker:{"class":/(^\.[a-zA-Z0-9-_]+)/,id:/(^#[a-zA-Z0-9-_]+)/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)/,tag_class:/(^[a-zA-z]+\.[-_A-Za-z0-9]+)/},_search:function(a,b,c,d){var e=a,f=[];return this.map(e,function(a){if(!c&&!d)var e=this._getElement(a,b);else var e=this._getElementWithAttribute(a,b,c,d);e&&e.length>0&&this.onEach(e,function(a){f.push(a)},this)},this),f},_getElementWithAttribute:function(a,b,c,d){return this._getMapSelector(a,b,c,d)},_getElement:function(a,b){var c={"class":/(^\.[a-zA-Z0-9-_]+)/,id:/(^#[a-zA-Z0-9-_]+)/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)/,tag_class:/(^[a-zA-z]+\.[-_A-Za-z0-9]+)/};if(c.id.test(b))return this._getMapSelector(a,"*","id",b.split("#")[1]);if(c.class.test(b))return this._getMapSelector(a,"*","class",b.split(".")[1]);if(c.tag_id.test(b)){var d=b.split("#");return this._getMapSelector(a,d[0],"id",d[1])}if(c.tag_class.test(b)){var d=b.split(".");return this._getMapSelector(a,d[0],"class",d[1])}return this._getTag(a,b)},_getTag:function(a,b){if(!a||!b)return;return a.getElementsByTagName(b)},_getMapSelector:function(a,b,c,d){if(!a||!d||!b||!c)return;var e=[],f,g=a.getElementsByTagName(b);for(f=0;f<g.length;f++)g[f].getAttribute(c)==d&&e.push(g[f]);return e},get:function(a,b){var c=this._search();return this.extend(c)},getAttr:function(a,b,c,d){var e=this._search(this.elements,a,b,c);return this.extend(e)},getSelector:function(a,b){if(this.isObjectType(a,"string"))var c=this._querinize_string(a).split(" ");else var c=a;var d=this.elements;while(c.length>0)d=this._search(d,c[0]),c=c.splice(1,c.length);return this.extend(d)}},Stubs.share(b.super,["proxy","map","onEach","getObjectType","isObjectType"]),b}},MonsterQuery.core.Query=Stubs.create("MonsterQuery.Query",{init:function(a){this.module=MonsterQuery.core,this.cache={},this.dom=a;if(!a)return},_query_sanitize:function(a,b,c){return a=a.replace(b,c),a},_querinize_string:function(a){return a=this._query_sanitize(a,/^[\s]+/ig,""),a=this._query_sanitize(a,/>+|\++/ig,""),a=this._query_sanitize(a,/\s+/ig," "),a=this._query_sanitize(a,/(\s+)$/ig,""),a},_checker:{"class":/(^\.[a-zA-Z0-9-_]+)/,id:/(^#[a-zA-Z0-9-_]+)/,tag_id:/(^[a-zA-z]+#[-_A-Za-z0-9]+)/,tag_class:/(^[a-zA-z]+\.[-_A-Za-z0-9]+)/},_search:function(a,b,c,d){var e=a,f=[];return this.map(e,function(a){if(!c&&!d)var e=this._getElement(a,b);else var e=this._getElementWithAttribute(a,b,c,d);e&&e.length>0&&this.onEach(e,function(a){f.push(a)},this)},this),f},_getElementWithAttribute:function(a,b,c,d){return this._getMapSelector(a,b,c,d)},_getElement:function(a,b){var c=b,d=this._checker;if(d.id.test(b))return this._getID(a,b.split("#")[1]);if(d.class.test(b))return this._getMapSelector(a,"*","class",b.split(".")[1]);if(d.tag_id.test(b)){var e=b.split("#");return this._getMapSelector(a,e[0],"id",e[1])}if(d.tag_class.test(b)){var e=b.split(".");return this._getMapSelector(a,e[0],"class",e[1])}return this._getTag(a,b)},_getID:function(a,b){return[a.getElementByID(b)]},_getTag:function(a,b){if(!a||!b)return;return a.getElementsByTagName(b)},_getMapSelector:function(a,b,c,d){if(!a||!d||!b||!c)return;var e=[],f,g=a.getElementsByTagName(b);for(f=0;f<g.length;f++)g[f].getAttribute(c)==d&&e.push(g[f]);return e},get:function(a,b){var c=this._getElement(this.dom,a);return this.module.Element.extend(c)},getAttr:function(a,b,c,d){var e=this._getMapSelector(this.dom,a,b,c);return this.module.Element.extend(e)},getSelector:function(a,b){if(this.isObjectType(a,"string"))var c=this._querinize_string(a).split(" ");else var c=a;var d=this._getElement(this.dom,c[0]);c=c.splice(1,c.length);while(c.length>0)d=this._search(d,c[0]),c=c.splice(1,c.length);return this.module.Element.extend(d)}}),MonsterQuery.core.Event=Stubs.create("MonsterQuery.Event",{init:function(){}});var _MQ=window._MQ=window.MQ,MQ=window.MQ=function(){var a=this,b=a.document,c=!1,d=function(){c||b.addEventListener&&b.addEventListener("DOMContentLoaded",function(){c=!0},!1)},e=function(){if(!c)var b=a.setInterval(function(){"loaded|complete".indexOf(document.readyState)!=-1&&(c=!0),c&&a.clearInterval(b)},0)},f=function(){var d=b.createElement("span"),e=0;if(!c)var f=a.setInterval(function(){b.body&&!c&&b.body.appendChild(d)&&b.body.removeChild(d)&&(c=!0),c&&window.clearInterval(f)},e)};return{version:MonsterQuery.version,Query:new MonsterQuery.core.Query(document),Event:MonsterQuery.core.Event,Element:MonsterQuery.core.Element,onReady:function(a){var b=function(){},g=this;d(),e(),f();var h=window.setTimeout(function(){c&&(window.clearTimeout(h),a.call(g))},30)}}}()